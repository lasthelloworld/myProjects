/**
 * Created by pengyun on 2017/5/8.
 * 主页
 */


(function () {
    'use strict';
    angular.module('app.nmsTest')
        .controller('nmsTest', nmsTest);
    nmsTest.$inject = ['$scope', 'controlModel'];
    function nmsTest($scope, controlModel) {
        var vm = this;
        var beginTime = new Date().getTime();
        angular.element(window).bind("load", function () {
            var endTime = new Date().getTime();
            var second = (endTime - beginTime) / 1000;
            console.log(second);
        });

        //树形表格
        var ctrlConfig1 = {
            IsEnabled: true,
            StructData: { "ID": "", "RowID": "51d99742-c8ae-499f-87ae-d782f26bb838", "ColID": "1e875325-9475-4485-9255-a149d9272017", "Weight": 1, "rowOrCol": { "ID": "1e875325-9475-4485-9255-a149d9272017", "MTName": "得分", "MType": "TextBox", "ParentID": "ROOT", "Rule": "[{\"Type\":\"1\",\"Value\":\"NotNull\",\"ExpressType\":\"0\",\"ErrorTip\":\"所填值不能为空\"},{\"Type\":\"2\",\"Value\":\"^[0-9]*$\",\"ExpressType\":\"0\",\"ErrorTip\":\"必须为数字\"},{\"Type\":\"8\",\"Value\":\"if(100>$Val$){return true;}else{return false;}\",\"ExpressType\":\"1\",\"ErrorTip\":\"所填值不能大于100\"},{\"Type\":\"8\",\"Value\":\"if(0<$Val$){return true;}else{return false;}\",\"ExpressType\":\"1\",\"ErrorTip\":\"所填值不能小于0\"}]", "DefaultType": "dValue", "DefaultVal": null, "MINature": "0", "TargetMIID": "XFZD_FZ", "ValType": "DOUBLE", "Source": null, "SourceType": "dValue", "Code": "XFZD_DF", "Weight": 1, "SortNO": 3, "Description": null, "ExtContent": { "IsNewLine": false, "ForColNO": 0, "ROrCShowItemNO": 0, "ColWidth": "200px", "LevelDeep": { "Begin": "", "End": "" } }, "IsSpecial": 0, "IDMark": "IsCol", "IsMerge": false, "IsHide": false, "IsOut": false, "TitleColSpan": 1 }, "targetCent": "10", "Value": "", "DefaultVal": "", "Row": { "ID": "51d99742-c8ae-499f-87ae-d782f26bb838", "MTName": "①、统一记录格式<br/>②、要求记录学习题目、时间、地点、主讲人及主要内容。", "MType": null, "ParentID": "b53b6d02-40be-4658-b349-d8113fd67a48", "Rule": "[]", "DefaultType": "kValue", "DefaultVal": [{ "Code": "XFZD_FZ", "Value": "10" }, { "Code": "DE5A3243C531CE91_0021", "Value": "没有统一格式" }], "MINature": "0", "TargetMIID": null, "ValType": "DOUBLE", "Source": null, "SourceType": "dValue", "Code": "JCLX_XF_ZD_GFJL_ZYNR", "Weight": 1, "SortNO": 2, "Description": null, "ExtContent": null, "IsSpecial": 0, "IDMark": "IsRow", "IsMerge": false, "IsHide": false, "IsOut": false, "deep": 2, "SortText": "", "Row": 1, "Col": 1, "titleTdStyle": { "text-align": "left" }, "ctrlTdColSpan": 1, "ctrlTdRowSpan": 1, "ctrlTdStyle": {}, "addClass": "" }, "Col": { "ID": "1e875325-9475-4485-9255-a149d9272017", "MTName": "得分", "MType": "TextBox", "ParentID": "ROOT", "Rule": "[{\"Type\":\"1\",\"Value\":\"NotNull\",\"ExpressType\":\"0\",\"ErrorTip\":\"所填值不能为空\"},{\"Type\":\"2\",\"Value\":\"^[0-9]*$\",\"ExpressType\":\"0\",\"ErrorTip\":\"必须为数字\"},{\"Type\":\"8\",\"Value\":\"if(100>$Val$){return true;}else{return false;}\",\"ExpressType\":\"1\",\"ErrorTip\":\"所填值不能大于100\"},{\"Type\":\"8\",\"Value\":\"if(0<$Val$){return true;}else{return false;}\",\"ExpressType\":\"1\",\"ErrorTip\":\"所填值不能小于0\"}]", "DefaultType": "dValue", "DefaultVal": null, "MINature": "0", "TargetMIID": "XFZD_FZ", "ValType": "DOUBLE", "Source": null, "SourceType": "dValue", "Code": "XFZD_DF", "Weight": 1, "SortNO": 3, "Description": null, "ExtContent": { "IsNewLine": false, "ForColNO": 0, "ROrCShowItemNO": 0, "ColWidth": "200px", "LevelDeep": { "Begin": "", "End": "" } }, "IsSpecial": 0, "IDMark": "IsCol", "IsMerge": false, "IsHide": false, "IsOut": false, "TitleColSpan": 1 }, "MetricsExtVal": "", "OtherVal": "", "IsReadOnly": false, "ReadOnly": 0, "IsOutData": true, "Status": 0, "IsMINature": false },
            target: { "ID": "1e875325-9475-4485-9255-a149d9272017", "MTName": "得分", "MType": "TextArea", "ParentID": "ROOT", "Rule": "[{\"Type\":\"1\",\"Value\":\"NotNull\",\"ExpressType\":\"0\",\"ErrorTip\":\"所填值不能为空\"},{\"Type\":\"2\",\"Value\":\"^[0-9]*$\",\"ExpressType\":\"0\",\"ErrorTip\":\"必须为数字\"},{\"Type\":\"8\",\"Value\":\"if(100>$Val$){return true;}else{return false;}\",\"ExpressType\":\"1\",\"ErrorTip\":\"所填值不能大于100\"},{\"Type\":\"8\",\"Value\":\"if(0<$Val$){return true;}else{return false;}\",\"ExpressType\":\"1\",\"ErrorTip\":\"所填值不能小于0\"}]", "DefaultType": "dValue", "DefaultVal": null, "MINature": "0", "TargetMIID": "XFZD_FZ", "ValType": "DOUBLE", "Source": null, "SourceType": "dValue", "Code": "XFZD_DF", "Weight": 1, "SortNO": 3, "Description": null, "ExtContent": { "IsNewLine": false, "ForColNO": 0, "ROrCShowItemNO": 0, "ColWidth": "200px", "LevelDeep": { "Begin": "", "End": "" } }, "IsSpecial": 0, "IDMark": "IsCol", "IsMerge": false, "IsHide": false, "IsOut": false, "TitleColSpan": 1 }
        }
        //单列树单选框
        var ctrlConfig2 = {
            IsEnabled: true,
            StructData: { "ID": "31a78b21-1c56-47c4-8b80-f00adb51c4a0", "RowID": "1", "ColID": "62863ef8-acea-4e44-b6bf-4ae5a005f467", "Weight": 1, "targetCent": 1, "Value": [{ "ID": "0", "Value": "护士素质", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "1", "Value": "劳动纪律", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "2", "Value": "病区环境", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "3", "Value": "了解病情", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "4", "Value": "措施到位", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "5", "Value": "按时巡视", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "6", "Value": "操作正规", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "7", "Value": "着装整洁统一,穿白色软底鞋,头发不过肩,长发者统一用发网,不化浓妆,不留长指甲,不带首饰,佩戴胸牌上岗", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }], "DefaultVal": "病区环境", "Row": { "ID": "31a78b21-1c56-47c4-8b80-f00adb51c4a0", "MetricsItemID": "62863ef8-acea-4e44-b6bf-4ae5a005f467", "MetricsVal": "病区环境", "MetricsExtVal": "2", "MetricsRecordID": "9d6f3cc8-400a-4859-a353-4aebd873f9bc", "MorifyDate": "/Date(1517561711000)/", "Modifier": "李兴贵", "ExtContent": null, "MetricsItemTID": "1", "OtherVal": null, "Status": 0 }, "Col": { "ID": "62863ef8-acea-4e44-b6bf-4ae5a005f467", "MTName": "问题关键字", "MType": "RadioBox", "ParentID": "ROOT", "Rule": "[]", "DefaultType": "dValue", "DefaultVal": null, "MINature": "0", "TargetMIID": null, "ValType": "Text", "Source": [{ "ID": "0", "Value": "护士素质", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "1", "Value": "劳动纪律", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "2", "Value": "病区环境", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "3", "Value": "了解病情", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "4", "Value": "措施到位", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "5", "Value": "按时巡视", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "6", "Value": "操作正规", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "7", "Value": "着装整洁统一,穿白色软底鞋,头发不过肩,长发者统一用发网,不化浓妆,不留长指甲,不带首饰,佩戴胸牌上岗", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }], "SourceType": "oValue", "Code": "HLYCF_WTGJZ", "Weight": 1, "SortNO": 1, "Description": null, "ExtContent": { "IsNewLine": false, "ForColNO": 0, "ROrCShowItemNO": 0, "ColWidth": "300", "LevelDeep": { "Begin": "", "End": "", "TBLevelDeep": [] }, "IgnoreConfig": [], "Combined": { "CombinedMethod": "sum", "TagCode": "", "Express": "", "CombinedIgnoreItemCode": [] }, "UseRowCtrTypeCode": [] }, "IsSpecial": 0, "IDMark": "IsCol", "IsMerge": false, "IsHide": false, "IsOut": false }, "rowOrCol": { "ID": "62863ef8-acea-4e44-b6bf-4ae5a005f467", "MTName": "问题关键字", "MType": "ComboBox", "ParentID": "ROOT", "Rule": "[]", "DefaultType": "dValue", "DefaultVal": null, "MINature": "0", "TargetMIID": null, "ValType": "Text", "Source": [{ "ID": "0", "Value": "护士素质", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "1", "Value": "劳动纪律", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "2", "Value": "病区环境", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "3", "Value": "了解病情", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "4", "Value": "措施到位", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "5", "Value": "按时巡视", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "6", "Value": "操作正规", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }, { "ID": "7", "Value": "着装整洁统一,穿白色软底鞋,头发不过肩,长发者统一用发网,不化浓妆,不留长指甲,不带首饰,佩戴胸牌上岗", "ExtValue": null, "ParentID": null, "Code": "62863ef8-acea-4e44-b6bf-4ae5a005f467" }], "SourceType": "oValue", "Code": "HLYCF_WTGJZ", "Weight": 1, "SortNO": 1, "Description": null, "ExtContent": { "IsNewLine": false, "ForColNO": 0, "ROrCShowItemNO": 0, "ColWidth": "300", "LevelDeep": { "Begin": "", "End": "", "TBLevelDeep": [] }, "IgnoreConfig": [], "Combined": { "CombinedMethod": "sum", "TagCode": "", "Express": "", "CombinedIgnoreItemCode": [] }, "UseRowCtrTypeCode": [] }, "IsSpecial": 0, "IDMark": "IsCol", "IsMerge": false, "IsHide": false, "IsOut": false }, "MetricsExtVal": "2", "OtherVal": null, "IsReadOnly": false, "ReadOnly": 0, "IsOutData": false, "Status": 0, "IsMINature": false },
            target: null
        }
        //树形 多选框
        var ctrlConfig3 = {
            IsEnabled: true,
            StructData: {"ID":"","RowID":"0b438a0e-0caf-4abe-a086-5f4b6749003d","ColID":"deda4a02-0b4b-4663-82a4-100f700ffa16","Weight":1,"rowOrCol":{"ID":"deda4a02-0b4b-4663-82a4-100f700ffa16","MTName":"得分","MType":"CheckBox","ParentID":"ROOT","Rule":"[{\"Type\":\"1\",\"Value\":\"NotNull\",\"ExpressType\":\"0\",\"ErrorTip\":\"多选值不能为空\"}]","DefaultType":"dValue","DefaultVal":null,"MINature":"0","TargetMIID":null,"ValType":"Text","Source":[{"ID":"001","Value":"非常满意","ExtValue":"1","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"002","Value":"同意","ExtValue":"0.8","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"003","Value":"一般","ExtValue":"0.5","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"004","Value":"不同意","ExtValue":"0.2","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"005","Value":"非常不同意","ExtValue":"0","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"}],"SourceType":"oValue","Code":"DLCS_DF","Weight":1,"SortNO":4,"Description":null,"ExtContent":null,"IsSpecial":0,"IDMark":"IsCol","IsMerge":false,"IsHide":false,"IsOut":false,"TitleColSpan":1},"targetCent":-1,"Value":[{"ID":"001","Value":"非常满意","ExtValue":"1","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"002","Value":"同意","ExtValue":"0.8","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"003","Value":"一般","ExtValue":"0.5","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"004","Value":"不同意","ExtValue":"0.2","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"005","Value":"非常不同意","ExtValue":"0","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"}],"DefaultVal":["非常满意"],"Row":{"ID":"0b438a0e-0caf-4abe-a086-5f4b6749003d","MTName":"工作环境1","MType":null,"ParentID":"2e2a167c-42dc-40ba-b22d-31c9a076d116","Rule":"[]","DefaultType":"kValue","DefaultVal":[{"Code":"DLCS_FZ","Value":"1"},{"Code":"48C754D4EF58C06C_011","Value":"无"}],"MINature":"0","TargetMIID":null,"ValType":"Text","Source":null,"SourceType":"dValue","Code":"48C754D4EF58C06C_008","Weight":1,"SortNO":1,"Description":null,"ExtContent":null,"IsSpecial":0,"IDMark":"IsRow","IsMerge":false,"IsHide":false,"IsOut":false,"deep":1,"SortText":"1.","Row":1,"Col":1,"titleTdStyle":{"text-align":"left"},"ctrlTdColSpan":1,"ctrlTdRowSpan":1,"ctrlTdStyle":{"min-width":"48px"},"addClass":""},"Col":{"ID":"deda4a02-0b4b-4663-82a4-100f700ffa16","MTName":"得分","MType":"CheckBox","ParentID":"ROOT","Rule":"[{\"Type\":\"1\",\"Value\":\"NotNull\",\"ExpressType\":\"0\",\"ErrorTip\":\"多选值不能为空\"}]","DefaultType":"dValue","DefaultVal":null,"MINature":"0","TargetMIID":null,"ValType":"Text","Source":[{"ID":"001","Value":"非常满意","ExtValue":"1","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"002","Value":"同意","ExtValue":"0.8","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"003","Value":"一般","ExtValue":"0.5","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"004","Value":"不同意","ExtValue":"0.2","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"005","Value":"非常不同意","ExtValue":"0","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"}],"SourceType":"oValue","Code":"DLCS_DF","Weight":1,"SortNO":4,"Description":null,"ExtContent":null,"IsSpecial":0,"IDMark":"IsCol","IsMerge":false,"IsHide":false,"IsOut":false,"TitleColSpan":1},"MetricsExtVal":["001"],"OtherVal":[""],"IsReadOnly":false,"ReadOnly":0,"IsOutData":false,"Status":0,"IsMINature":false},
            target: {"ID":"deda4a02-0b4b-4663-82a4-100f700ffa16","MTName":"得分","MType":"CheckBox","ParentID":"ROOT","Rule":"[{\"Type\":\"1\",\"Value\":\"NotNull\",\"ExpressType\":\"0\",\"ErrorTip\":\"多选值不能为空\"}]","DefaultType":"dValue","DefaultVal":null,"MINature":"0","TargetMIID":null,"ValType":"Text","Source":[{"ID":"001","Value":"非常满意","ExtValue":"1","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"002","Value":"同意","ExtValue":"0.8","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"003","Value":"一般","ExtValue":"0.5","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"004","Value":"不同意","ExtValue":"0.2","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"},{"ID":"005","Value":"非常不同意","ExtValue":"0","ParentID":null,"Code":"deda4a02-0b4b-4663-82a4-100f700ffa16"}],"SourceType":"oValue","Code":"DLCS_DF","Weight":1,"SortNO":4,"Description":null,"ExtContent":null,"IsSpecial":0,"IDMark":"IsCol","IsMerge":false,"IsHide":false,"IsOut":false,"TitleColSpan":1}
        }
        var  list = [];
        for (var index = 0; index < 1; index++) {
            var model = controlModel.createModel(ctrlConfig2);
            list.push(model);
            angular.element("#form").append(model.Element);
        }
        // for (var index = 0; index < 10000; index++) {
        //     var model = controlModel.createModel(ctrlConfig);
        //     angular.element("#form").append(model.createDom());
        // }



    }
})();